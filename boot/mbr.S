; 主引导程序
; -------------------------------
SECTION MBR vstart=0x7c00
	mov ax, cs
	mov ds, ax
	mov ss, ax
	mov es, ax
	mov fs, ax
	mov sp, 0x7c00

; 清屏利用功能号0x06，上卷全部行
; -------------------------------
; INT 0X10  功能号： 0x06  功能表述：上卷全部行
; -------------------------------
; 输入：
; AH 功能号： 0x06
; AL 上卷的行数(如果为0，表示全部)
; (CL, CH) 窗口左上角的x，y的位置
; (DL, DH) 窗口右下角的x，y的位置
; 没有返回值

	mov ah, 0x06
	mov al, 0x00
	mov cx, 0x0000	; x = 0,  y = 0
	mov dx, 0x184f	; x = 80, y = 25
	int 0x10

; --------获取光标的位置----------
; .get_cursor 获取光标的当前位置，在光标位置处打印字符

	mov ah, 0x03 	; 功能号为0x03是获取光标位置
	mov bh, 0x00 	; bh寄存器储存的带获取光标的页号
	
	int 0x10		; 输出：  ch 光标开始行 cl 光标结束行
					; 		  dh 光标所在行 dl 光标所在列
; ---------获取完成--------------

; --------打印字符传------------
; 使用10中断， 13功能号进行打印
	mov ax, message
	mov bp, ax			; es: bp 为字符串首地址

; 光标位置要用到ds寄存器内容， cx光标位置hulve
	mov cx, 12 		; 字符串长度
	mov ax, 0x1301  ; ah = 13 功能号; al = 10 写字符方式 显示字符串，光标跟着移动
	
	mov bx, 0x0002  ; bh 页号 ; bl 字符显示方式黑底绿字
	int 0x10

;--------------------------------

	jmp $

	message db "Hello World!"
	times 510-($-$$) db 0x00
	db 0x55, 0xaa










